(()=>{"use strict";var e={7292:(e,t,n)=>{var a=n(7294),r=n(3935),c=n(4699),o=n(1120),l=n(7623),s=n(9895),i=n(4741),u=n(7812),m=n(8995),d=n(5996),p="#ffffff8a",f="ru",g="en",E="https://nameless-citadel-16403.herokuapp.com/login",h=(0,o.Z)((function(e){return(0,l.Z)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:500,minWidth:280,backgroundColor:p},input:{marginLeft:e.spacing(1),flex:1,maxWidth:500,minWidth:210},iconButton:{padding:5},divider:{height:28,margin:4}})}));function v(e){var t=h(),n=e.lang,r=e.search,c=e.setSearch,o=function(){return n===f?"Введите страну/сталицу":n===g?"Search country/capital":"Suche Land/Hauptstadt"},l=a.createRef();return(0,a.useEffect)((function(){var e=l.current&&l.current.children[0];e&&(""===r?e.classList.add("hidden"):e.classList.remove("hidden"))}),[l,r,t]),a.createElement(s.Z,{ref:l,component:"form",className:t.root,onSubmit:function(e){e.preventDefault()}},a.createElement(u.Z,{onClick:function(e){return function(e){e.detail&&c("")}(e)},type:"submit",className:t.iconButton,"aria-label":"search"},a.createElement(d.Z,null)),a.createElement(i.Z,{className:t.input,placeholder:o(),inputProps:{"aria-label":o()},autoFocus:!0,value:r,onChange:function(e){return c(e.target.value)}}),a.createElement(u.Z,{type:"submit",className:t.iconButton,"aria-label":"search"},a.createElement(m.Z,null)))}var y=n(6479),_=n(4436),N=n(8394),w=(0,o.Z)((function(e){return(0,l.Z)({formControl:{margin:e.spacing(1),minWidth:40},selectEmpty:{height:40}})}));function b(e){var t=w(),n=e.lang,r=e.setLang;return a.createElement(a.Fragment,null,a.createElement(_.Z,{className:t.formControl},a.createElement(N.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:function(e){r(e.target.value),localStorage.setItem("language",JSON.stringify(e.target.value))}},a.createElement(y.Z,{value:f},f),a.createElement(y.Z,{value:g},g),a.createElement(y.Z,{value:"de"},"de"))))}var Z=n(3727),S=n(5977),k=n(282);const x=function(e){var t=e.lang,n=e.setLang,r=e.search,c=e.setSearch,o=e.setToken,l=e.token,s=e.setSkipAuth,i=(0,S.TH)(),u=a.createElement(k.Z,{variant:"contained",color:"primary",onClick:function(){sessionStorage.removeItem("login"),sessionStorage.removeItem("skip"),o({user:"",token:!1}),s(!1)}},"Log out");return a.createElement("header",{className:"header"},a.createElement(Z.rU,{to:"/"},a.createElement("img",{className:"header__logo",src:"assets/images/logo.svg",alt:"Oleg Vaskevich"})),"/"===i.pathname&&a.createElement("div",{className:"header__search"},a.createElement(v,{lang:t,search:r,setSearch:c})),a.createElement("div",{className:"header__right"},a.createElement("div",{className:"header__language"},a.createElement(b,{lang:t,setLang:n})),l&&l.token?u:a.createElement(a.Fragment,null)))};var C=n(8463),O=n(9738),L=n(9912),P=n(951),j=n(2318),T=(0,o.Z)({root:{margin:10,backgroundColor:p},media:{height:240}});function D(e){var t=T(),n=e.country,r=e.lang,c=n.name,o=n.capital,l=n.avatar,s=n.path;return a.createElement(Z.rU,{to:s},a.createElement(C.Z,{className:t.root},a.createElement(O.Z,null,a.createElement(P.Z,{className:t.media,image:l,title:c[r]}),a.createElement(L.Z,null,a.createElement(j.Z,{gutterBottom:!0,variant:"h5",component:"h2"},c[r]),a.createElement(j.Z,{variant:"body2",color:"textSecondary",component:"p"},o[r])))))}const F=a.forwardRef((function(e,t){var n=e.lang,r=e.data;return a.createElement("section",{ref:t,className:"countries-container"},r.map((function(e,t){return a.createElement(D,{key:t,country:e,lang:n})})))})),A=function(){return a.createElement("footer",{className:"footer"},a.createElement("div",{className:"footer__links"},a.createElement("a",{href:"https://github.com/I-vasilich-I",className:"footer__link",target:"_blank",rel:"noreferrer"},a.createElement("img",{className:"github__logo",src:"assets/images/GitHub.svg",alt:"Oleg Vaskevich"})),a.createElement("a",{href:"https://github.com/Lex-tp",className:"footer__link",target:"_blank",rel:"noreferrer"},a.createElement("img",{className:"github__logo",src:"assets/images/GitHub.svg",alt:"Denis Korotkevich"}))),a.createElement("p",{className:"footer__year"},"© 2021"),a.createElement("a",{href:"https://rs.school/js/",target:"_blank",rel:"noreferrer"},a.createElement("img",{className:"rss__logo",src:"assets/images/rs_school_js.svg",alt:"The Rolling Scopes"})))},R=function(e){var t=e.avatar,n=e.name,r=e.capital,c=e.population,o=e.area,l=e.region,s=e.currency,i=e.flag,u=e.languages,m=e.lang,d={capital:{ru:"Столица",en:"Capital",de:"Hauptstadt"},area:{ru:"Территория",en:"Area",de:"Bereich"},population:{ru:"Население",en:"Population",de:"Population"},region:{ru:"Расположение",en:"Region",de:"Region"},flag:{ru:"Государственный флаг",en:"State flag",de:"Staatsflagge"},currency:{ru:"Валюта",en:"Currency",de:"Währung"},lang:{ru:"Государственный язык",en:"Official language",de:"Staatssprache"}};return a.createElement("div",{className:"country-info"},a.createElement("div",{className:"country-info__name"},n),a.createElement("img",{className:"country-info__avatar",src:t,alt:"avatar-".concat(n)}),a.createElement("div",{className:"country-info__summary"},a.createElement("div",{className:"country-info__summary__item"},a.createElement("span",{className:"country-info__summary__label"},d.capital[m]),a.createElement("span",{className:"country-info__summary__text"},r)),a.createElement("div",{className:"country-info__summary__item"},a.createElement("span",{className:"country-info__summary__label"},d.area[m]),a.createElement("span",{className:"country-info__summary__text"},o)),a.createElement("div",{className:"country-info__summary__item"},a.createElement("span",{className:"country-info__summary__label"},d.population[m]),a.createElement("span",{className:"country-info__summary__text"},c)),a.createElement("div",{className:"country-info__summary__item"},a.createElement("span",{className:"country-info__summary__label"},d.region[m]),a.createElement("span",{className:"country-info__summary__text"},l)),a.createElement("div",{className:"country-info__summary__item"},a.createElement("span",{className:"country-info__summary__label"},d.flag[m]),a.createElement("img",{className:"country-info__summary__flag",src:i,alt:"flag"})),a.createElement("div",{className:"country-info__summary__item"},a.createElement("span",{className:"country-info__summary__label"},d.currency[m]),a.createElement("span",{className:"country-info__summary__currency"},s)),a.createElement("div",{className:"country-info__summary__item"},a.createElement("span",{className:"country-info__summary__label"},d.lang[m]),u.map((function(e,t){return a.createElement("span",{key:t,className:"country-info__summary__text"},e)})))))};var W=n(2122),M=n(6066);function B(e){var t=e.image,n=e.title,r=e.description,c=e.location,o=e.onSlideClick,l=e.tooltip;return a.createElement("div",{className:"slider-box__item"},a.createElement("div",{className:"slide",onClick:o,title:l},a.createElement("img",{className:"slider-box__item__img",src:t,alt:n}),a.createElement("div",{className:"slider-box__item__caption"},a.createElement("span",{className:"slider-box__item__title"},n),a.createElement("span",{className:"slider-box__item__desc"},r),a.createElement("span",{className:"slider-box__item__location"},c))))}var I=n(366);function U(e){var t=(0,a.useState)(!1),n=(0,c.Z)(t,2),r=n[0],o=n[1],l=(0,a.useRef)(null),s=e.slides;function i(e){o(e)}var u={customPaging:function(e){return a.createElement("a",null,a.createElement("img",{src:s[e].image,alt:s[e].title}))},dotsClass:"slick-dots",autoplay:!0,autoplaySpeed:5e3,dots:!0,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,pauseOnHover:!0,fade:!0};return H("ArrowRight",(function(){var e;r&&(null===(e=l.current)||void 0===e||e.slickNext())})),H("ArrowLeft",(function(){var e;r&&(null===(e=l.current)||void 0===e||e.slickPrev())})),H("Escape",(function(){r&&i(!1)})),a.createElement("div",{className:"slider-box ".concat(r?"slider-box__fullscreen":"")},a.createElement("button",{className:"btn-fullscreen",title:"Закрыть режим просмотра",onClick:function(){i(!1)}},a.createElement(I.Z,null)),a.createElement(M.Z,(0,W.Z)({ref:l},u),s.map((function(e,t){return a.createElement(B,{key:t,image:e.image,title:e.title,description:e.description,location:e.location,tooltip:r?"":"Нажмите для увеличения изображения",onSlideClick:function(){i(!0)}})}))))}function H(e,t){var n=(0,a.useRef)(t);(0,a.useEffect)((function(){n.current=t})),(0,a.useEffect)((function(){function t(t){t.code===e&&n.current(t)}return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[e])}var J=n(6584),z=n(795),K=n(7409),q=n(7651),V=n(2471),G=n(7118),Q=n(6977);function Y(e){var t=(0,a.useState)(!1),n=(0,c.Z)(t,2),r=n[0],o=n[1],l=e.location,s=e.lang,i=e.coordinates,u=e.typePolygon,m=e.capital,d=e.country,p=(0,a.useRef)(),f={geometry:{coordinates:i,type:"".concat(u)},properties:{name:d},type:"Feature"},g=a.createElement(J.I,{updateInterval:20,attribution:'<a href=\\"https://www.jawg.io\\" target=\\"_blank\\">© Jawg</a> - <a href=\\"https://www.openstreetmap.org\\" target=\\"_blank\\">© OpenStreetMap</a> contributors',url:"https://tile.jawg.io/jawg-streets/{z}/{x}/{y}.png?lang=".concat(s,"&access-token=hjwgVWeFpBZKCpiJuubyxLQTlfaKby0nFconlrJRUxRilidPFenqyUvzELqTeEjR")});return a.createElement("div",{className:"map-wrapper ".concat(r?"fullscreen-map":"")},a.createElement("button",{className:"fullscreen-button",onClick:function(){o(!r),setTimeout((function(){var e;null===(e=p.current)||void 0===e||e.invalidateSize(!0)}),0)}},r?a.createElement(Q.Z,null):a.createElement(G.Z,null)),a.createElement(z.h,{whenCreated:function(e){p.current=e},className:"map-content",center:l,minZoom:2,zoom:5,maxBounds:[[-89.98155760646617,-180],[89.99346179538875,180]],maxBoundsViscosity:1},g,a.createElement(K.J,{position:l},a.createElement(q.u,{className:"tooltip"},"".concat(function(e){switch(e){case"ru":return"Столица";case"en":return"Capital";case"de":return"Hauptstadt";default:return"Столица"}}(s),":").concat(m))),a.createElement(V.Q,{data:f,style:{color:"#30BD1D",weight:4}},a.createElement(q.u,{className:"tooltip"},d))))}n(2772),n(1467);var X=n(2004);function $(e){var t={url:e.url,className:"video-player",controls:!0,width:"100%",height:"100%"};return a.createElement("div",{className:"player-wrapper"},a.createElement(X.Z,t))}var ee=n(2614),te=n(8165),ne=n(8943),ae=n(4059),re=n(7395),ce=n(5477);function oe(e){var t=(0,a.useState)(!1),n=(0,c.Z)(t,2),r=n[0],o=n[1],l=(0,a.useState)(!0),s=(0,c.Z)(l,2),i=s[0],u=s[1],m=(0,a.useState)({temp:0,icon:"",timeOfDay:"",stateWeather:"",wind:"",humidity:"",sunrise:0,sunset:0}),d=(0,c.Z)(m,2),p=d[0],f=d[1],g=e.capital,E=e.lang,h=e.timeZone,v={wind:{ru:"Ветер",en:"Wind",de:"Wind"},humidity:{ru:"Влажность",en:"Humidity",de:"Feuchtigkeit"},sunrise:{ru:"Рассвет",en:"Sunrise",de:"Dämmerung"},sunset:{ru:"Закат",en:"Sunset",de:"Sonnenuntergang"},speed:{ru:"м/с",en:"m/s",de:"m/s"}};return(0,a.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(g,"&units=metric&appid=bfe77b66bdbd401c7b6a4210e7a8f5b2&lang=").concat(E)).then((function(e){return e.json()})).then((function(e){f({temp:Math.round(e.main.temp),icon:e.weather[0].id,timeOfDay:e.weather[0].icon.slice(-1),stateWeather:e.weather[0].description[0].toUpperCase()+e.weather[0].description.slice(1),wind:e.wind.speed,humidity:e.main.humidity,sunrise:1e3*e.sys.sunrise,sunset:1e3*e.sys.sunset}),o(!0)}),(function(e){console.log(e)}))}),[g,E,h]),a.createElement("div",{className:"weather-wrapper"},r?a.createElement("div",{className:"weather-box"},a.createElement(re.Z,{onChange:function(){u(!i)}}),a.createElement("div",{className:"weather-info"},a.createElement("i",{className:"owf owf-".concat(p.icon,"-").concat(p.timeOfDay," weather-info__icon")}),a.createElement("div",{className:"weather-info__degree"},a.createElement("span",{className:"degree"},i?p.temp:Math.round(1.8*p.temp+32)),a.createElement("span",{className:"units"},i?"℃":"℉")),a.createElement("div",{className:"weather-info__description"},a.createElement("span",{className:"country"},g),a.createElement("span",{className:"state"},p.stateWeather))),a.createElement("div",{className:"weather-indicators"},a.createElement("div",{className:"weather-indicators__item"},a.createElement("span",{className:"caption-indicator"},v.wind[E]),a.createElement("div",{className:"indicator-wrapper"},a.createElement(ee.Z,null),a.createElement("span",{className:"indicator"},"".concat(p.wind," ").concat(v.speed[E])))),a.createElement("div",{className:"weather-indicators__item"},a.createElement("span",{className:"caption-indicator"},v.humidity[E]),a.createElement("div",{className:"indicator-wrapper"},a.createElement(te.Z,null),a.createElement("span",{className:"indicator"},"".concat(p.humidity," %")))),a.createElement("div",{className:"weather-indicators__item"},a.createElement("span",{className:"caption-indicator"},v.sunrise[E]),a.createElement("div",{className:"indicator-wrapper"},a.createElement(ne.Z,null),a.createElement("span",{className:"indicator"},new Date(p.sunrise).toLocaleTimeString(E,{timeZone:"".concat(h),hour:"numeric",minute:"numeric"})))),a.createElement("div",{className:"weather-indicators__item"},a.createElement("span",{className:"caption-indicator"},v.sunset[E]),a.createElement("div",{className:"indicator-wrapper"},a.createElement(ae.Z,null),a.createElement("span",{className:"indicator"},new Date(p.sunset).toLocaleTimeString(E,{timeZone:"".concat(h),hour:"numeric",minute:"numeric"})))))):a.createElement(ce.Z,null))}function le(e){var t=e.lang,n=e.timeZone,r=(0,a.useState)(Date.now()),o=(0,c.Z)(r,2),l=o[0],s=o[1];return(0,a.useEffect)((function(){var e=setInterval((function(){s(Date.now())}),1e3);return function(){clearInterval(e)}}),[t]),a.createElement("div",{className:"time-wrapper"},a.createElement("span",{className:"time"},new Date(l).toLocaleTimeString(t,{timeZone:"".concat(n)})),a.createElement("span",{className:"date"},new Date(l).toLocaleDateString(t,{timeZone:"".concat(n),year:"numeric",month:"long",day:"numeric",weekday:"long"})))}const se=n.p+"assets/images/euro.png",ie=n.p+"assets/images/dollar.png",ue=n.p+"assets/images/ruble.png";function me(e){var t=(0,a.useState)(!1),n=(0,c.Z)(t,2),r=n[0],o=n[1],l=(0,a.useState)(),s=(0,c.Z)(l,2),i=s[0],u=s[1],m=e.currency,d=e.lang,p={euro:{ru:"1 Евро",en:"1 Euro",de:"1 Euro"},usd:{ru:"1 Доллар",en:"1 Dollar",de:"1 Dollar"},rub:{ru:"100 Российский рубль",en:"100 Russian ruble",de:"100 Russischer Rubel"}};return(0,a.useEffect)((function(){fetch("https://free.currconv.com/api/v7/convert?q=USD_".concat(m,",EUR_").concat(m,"&apiKey=3cc85b7273ede806a604")).then((function(e){return e.json()})).then((function(e){fetch("https://free.currconv.com/api/v7/convert?q=RUB_".concat(m,"&apiKey=3cc85b7273ede806a604")).then((function(e){return e.json()})).then((function(t){u({usb:+e.results["USD_"+m].val.toFixed(2),euro:+e.results["EUR_"+m].val.toFixed(2),ruble:+(100*t.results["RUB_"+m].val).toFixed(2)}),o(!0)}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))}),[m]),a.createElement("div",{className:"currency-box"},r?a.createElement(a.Fragment,null,a.createElement("div",{className:"currency-captions"},a.createElement("div",{className:"currency-item"},a.createElement("img",{className:"currency-icon",src:se,alt:"euro"}),a.createElement("span",{className:"currency-point"},p.euro[d])),a.createElement("div",{className:"currency-item"},a.createElement("img",{className:"currency-icon",src:ie,alt:"dollar"}),a.createElement("span",{className:"currency-point"},p.usd[d])),a.createElement("div",{className:"currency-item"},a.createElement("img",{className:"currency-icon",src:ue,alt:"ruble"}),a.createElement("span",{className:"currency-point"},p.rub[d]))),a.createElement("div",{className:"currency-numbers"},a.createElement("div",{className:"currency-item"},a.createElement("span",{className:"currency-point"},"".concat(null==i?void 0:i.euro," ").concat(m))),a.createElement("div",{className:"currency-item"},a.createElement("span",{className:"currency-point"},"".concat(null==i?void 0:i.usb," ").concat(m))),a.createElement("div",{className:"currency-item"},a.createElement("span",{className:"currency-point"},"".concat(null==i?void 0:i.ruble," ").concat(m))))):a.createElement(ce.Z,null))}function de(e){var t=e.path,n=e.lang,r=e.capital,o=e.country,l=e.currency,s=(0,a.useState)([]),i=(0,c.Z)(s,2),u=i[0],m=i[1],d=(0,a.useState)({coordinates:[[]],location:[0,0]}),p=(0,c.Z)(d,2),f=p[0],g=p[1],E=(0,a.useState)(""),h=(0,c.Z)(E,2),v=h[0],y=h[1],_=(0,a.useState)(!1),N=(0,c.Z)(_,2),w=N[0],b=N[1],Z=(0,a.useState)(!1),S=(0,c.Z)(Z,2),k=S[0],x=S[1],C={Belarus:"Europe/Minsk",Brazil:"America/Sao_Paulo",England:"Europe/London",Japan:"Asia/Tokyo",Netherlands:"Europe/Minsk",Peru:"Europe/Minsk",Poland:"Europe/Warsaw",Russia:"Europe/Moscow",USA:"America/New_York"},O={time:{ru:"Текущее время в стране",en:"Current time in the country",de:"Aktuelle Zeit im Land"},weather:{ru:"Погода в стране",en:"Country weather",de:"Landwetter"},photo:{ru:"Фотогалерея",en:"Photo gallery",de:"Fotogallerie"},video:{ru:"Видео о стране",en:"Country video",de:"Ländervideo"},map:{ru:"Карта",en:"Map",de:"Karte"},currency:{ru:"Курс валют по отношению к",en:"Exchange rate in relation to",de:"Wechselkurs in Bezug auf"}};return(0,a.useEffect)((function(){var e=[];fetch("".concat("https://nameless-citadel-16403.herokuapp.com/places","/").concat(t)).then((function(e){return e.json()})).then((function(t){t[0].places.map((function(t){var a={image:t.img,title:t.name[n],description:t.info[n]};e.push(a)})),m(e),y(t[0].videoUrl),b(!0)})).catch((function(e){return console.log(e.message)}))}),[n,t]),(0,a.useEffect)((function(){var e={coordinates:[[]],location:[0,0]};fetch("".concat("https://nameless-citadel-16403.herokuapp.com/coordinates","/").concat(t)).then((function(e){return e.json()})).then((function(t){e.coordinates=t[0].coordinates,e.location=t[0].location,g(e),x(!0)})).catch((function(e){return console.log(e.message)}))}),[n,t]),a.createElement("div",{className:"country-content"},a.createElement(pe,{title:O.time[n]}),a.createElement(le,{lang:n,timeZone:C[t]}),a.createElement(pe,{title:O.weather[n]}),a.createElement(oe,{capital:r,lang:n,timeZone:C[t]}),a.createElement(pe,{title:"".concat(O.currency[n]," ").concat(l)}),a.createElement(me,{currency:l,lang:n}),w?a.createElement(a.Fragment,null,a.createElement(pe,{title:O.photo[n]}),a.createElement(U,{slides:u}),a.createElement(pe,{title:O.video[n]}),a.createElement($,{url:v})):a.createElement("div",{className:"countries-container countries-container--onload"},a.createElement(ce.Z,null)),k?a.createElement(a.Fragment,null,a.createElement(pe,{title:O.map[n]}),a.createElement(Y,{location:f.location,coordinates:f.coordinates,lang:n,capital:r,country:o,typePolygon:"Belarus"===t||"Poland"===t?"Polygon":"MultiPolygon"})):a.createElement("div",{className:"countries-container countries-container--onload"},a.createElement(ce.Z,null)))}function pe(e){return a.createElement("div",{className:"content-caption"},a.createElement("h1",null,e.title))}const fe=function(e){var t=e.country,n=t.avatar,r=t.name,c=t.capital,o=t.population,l=t.area,s=t.region,i=t.currency,u=t.flag,m=t.languages,d=t.path,p=e.lang,f="".concat(p,"-").concat(p.toUpperCase()),g={areaM:{ru:"км².",en:"km².",de:"km²."},populationM:{ru:"чел.",en:"ppl.",de:"mnsch."}},E=m[0];return a.createElement("div",{className:"country-container"},a.createElement(R,{avatar:n,name:r[p],capital:c[p],area:"".concat(l.toLocaleString(f)," ").concat(g.areaM[p]),population:"".concat(o.toLocaleString(f)," ").concat(g.populationM[p]),region:s[p],currency:i,flag:u,languages:E[p],lang:p}),a.createElement(de,{path:d,lang:p,capital:c[p],country:r[p],currency:i}))};var ge=n(6156),Ee=n(2137),he=n(7757),ve=n.n(he),ye=n(6010),_e=n(6718),Ne=n(3700),we=n(7397),be=n(67),Ze=n(8270),Se=n(8551),ke=n(6912),xe=n(8715);function Ce(e){return a.createElement(xe.Z,(0,W.Z)({elevation:6,variant:"filled"},e))}var Oe=(0,o.Z)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Le(e){var t=e.alertType,n=t.severity,r=t.message,c=e.setOpen,o=e.open,l=Oe(),s=function(e,t){"clickaway"!==t&&c(!1)};return a.createElement("div",{className:l.root},a.createElement(ke.Z,{open:o,autoHideDuration:6e3,onClose:s},a.createElement(Ce,{onClose:s,severity:n},r)))}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,ge.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=(0,o.Z)((function(e){return(0,l.Z)({root:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-evenly",padding:15},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},input:{display:"none"}})}));function De(){return(De=(0,Ee.Z)(ve().mark((function e(){var t,n,a,r=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){var t=e.setToken,n=e.setSkipAuth,r=Te(),o=a.useState({user:"",password:"",showPassword:!1}),l=(0,c.Z)(o,2),s=l[0],i=l[1],m=a.useState(!1),d=(0,c.Z)(m,2),p=d[0],f=d[1],g=(0,a.useState)({severity:"success",message:"Logged in"}),h=(0,c.Z)(g,2),v=h[0],y=h[1],N=function(e){return function(t){i(je(je({},s),{},(0,ge.Z)({},e,t.target.value)))}},w=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={user:e,token:t};sessionStorage.setItem("login",JSON.stringify(n))};return a.createElement(a.Fragment,null,a.createElement(Le,{alertType:v,setOpen:f,open:p}),a.createElement("div",{className:r.root},a.createElement(_.Z,{className:(0,ye.Z)(r.margin,r.textField),variant:"outlined"},a.createElement(Ne.Z,{htmlFor:"outlined-adornment-password"},"User"),a.createElement(_e.Z,{id:"outlined-user",value:s.user,onChange:N("user"),labelWidth:40})),a.createElement(_.Z,{className:(0,ye.Z)(r.margin,r.textField),variant:"outlined"},a.createElement(Ne.Z,{htmlFor:"outlined-adornment-password"},"Password"),a.createElement(_e.Z,{id:"outlined-adornment-password",type:s.showPassword?"text":"password",value:s.password,onChange:N("password"),endAdornment:a.createElement(we.Z,{position:"end"},a.createElement(u.Z,{"aria-label":"toggle password visibility",onClick:function(){i(je(je({},s),{},{showPassword:!s.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},s.showPassword?a.createElement(be.Z,null):a.createElement(Ze.Z,null))),labelWidth:70}))),a.createElement("div",{className:"login__buttons"},a.createElement(k.Z,{variant:"contained",color:"primary",onClick:function(){s.user&&s.password&&fetch("".concat(E,"/").concat(s.user)).then((function(e){return e.json()})).then((function(e){e.length?e[0].password===s.password?(t({user:s.user,token:!0}),w(s.user)):(f(!0),y({severity:"error",message:"Wrong password!"})):(function(){De.apply(this,arguments)}(E,s),t({user:s.user,token:!0}),w(s.user))})).catch((function(e){return console.log(e.message)}))}},"Log in"),a.createElement(k.Z,{variant:"contained",color:"primary",onClick:function(){n(!0),sessionStorage.setItem("skip",JSON.stringify(!0))}},"Skip"),a.createElement("input",{accept:"image/*",className:r.input,id:"icon-button-file",type:"file"}),a.createElement("label",{htmlFor:"icon-button-file"},a.createElement(u.Z,{color:"primary","aria-label":"upload picture",component:"span"},a.createElement(Se.Z,null)))))}const Ae=function(e){var t=e.setToken,n=e.setSkipAuth;return a.createElement("section",{className:"login-container"},a.createElement("h1",null,"Log in"),a.createElement(Fe,{setToken:t,setSkipAuth:n}))},Re=function(){var e=function(e,t){var n=sessionStorage.getItem(e)||null;return n?JSON.parse(n):t},t=(0,a.useState)(e("language","ru")),n=(0,c.Z)(t,2),r=n[0],o=n[1],l=(0,a.useState)(""),s=(0,c.Z)(l,2),i=s[0],u=s[1],m=a.createRef(),d=(0,a.useState)([]),p=(0,c.Z)(d,2),f=p[0],g=p[1],E=(0,a.useState)(!1),h=(0,c.Z)(E,2),v=h[0],y=h[1],_=(0,a.useState)(e("login",!1)),N=(0,c.Z)(_,2),w=N[0],b=N[1],k=(0,a.useState)(e("skip",!1)),C=(0,c.Z)(k,2),O=C[0],L=C[1];return(0,a.useEffect)((function(){fetch("https://nameless-citadel-16403.herokuapp.com/countries").then((function(e){return e.json()})).then((function(e){g(e),y(!0)})).catch((function(e){return console.log(e.message)}))}),[]),(0,a.useEffect)((function(){var e,t=null===(e=m.current)||void 0===e?void 0:e.children;if(t){var n=Array.from(t);n.map((function(e){return e.classList.remove("hidden")})),n.filter((function(e){var t=Array.from(e.children)[0],n=Array.from(t.children)[0],a=Array.from(n.children),r=Array.from(a[1].children),c=r[0].innerHTML.toLowerCase(),o=r[1].innerHTML.toLowerCase();return!(c.includes(i.toLowerCase())||o.includes(i.toLowerCase()))})).map((function(e){return e.classList.add("hidden")}))}}),[i,m]),w&&w.token||O?a.createElement(Z.UT,null,a.createElement(x,{lang:r,setLang:o,search:i,setSearch:u,setToken:b,token:w,setSkipAuth:L}),a.createElement("main",{className:"main"},v?a.createElement(S.rs,null,a.createElement(S.AW,{exact:!0,path:"/"},a.createElement(F,{lang:r,ref:m,data:f})),f.map((function(e,t){return a.createElement(S.AW,{key:t,path:"/".concat(e.path)},a.createElement(fe,{country:e,lang:r}))}))):a.createElement("div",{className:"countries-container countries-container--onload"},a.createElement(ce.Z,null))),a.createElement(A,null)):a.createElement(Ae,{setToken:b,setSkipAuth:L})};r.render(a.createElement(Re,null),document.getElementById("root"))},6277:()=>{}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0},t=[[7292,246],[6277,246]],a=e=>{},r=(r,c)=>{for(var o,l,[s,i,u,m]=c,d=0,p=[];d<s.length;d++)l=s[d],n.o(e,l)&&e[l]&&p.push(e[l][0]),e[l]=0;for(o in i)n.o(i,o)&&(n.m[o]=i[o]);for(u&&u(n),r&&r(c);p.length;)p.shift()();return m&&t.push.apply(t,m),a()},c=self.webpackChunktravel_app=self.webpackChunktravel_app||[];function o(){for(var a,r=0;r<t.length;r++){for(var c=t[r],o=!0,l=1;l<c.length;l++){var s=c[l];0!==e[s]&&(o=!1)}o&&(t.splice(r--,1),a=n(n.s=c[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),a}c.forEach(r.bind(null,0)),c.push=r.bind(null,c.push.bind(c));var l=n.x;n.x=()=>(n.x=l||(e=>{}),(a=o)())})(),n.x()})();